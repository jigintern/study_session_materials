<!-- https://codepen.io/mocaffy/pen/VYjEqbr -->

<!-- ========== CSS ========== -->
<style>
body {
  font-family: sans-serif;
  padding: 40px;
}

h2 {
  margin-bottom: 10px;
}

p {
  color: #888;
  margin-bottom: 20px;
}

.spacer {
  height: 80vh;
}

.demo-section {
  padding: 80px 40px;
  background: #f0f0f0;
  border-radius: 20px;
  text-align: center;
}

.demo-section h3 {
  font-size: 32px;
  margin-bottom: 10px;
  color: #333;
}

.demo-section .subtitle {
  font-size: 16px;
  color: #888;
  margin-bottom: 40px;
}

.boxes {
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

.box {
  width: 80px;
  height: 80px;
  border-radius: 10px;
}

#box1 { background: skyblue; }
#box2 { background: salmon; }
#box3 { background: mediumseagreen; }
#box4 { background: sandybrown; }
</style>

<!-- ========== HTML ========== -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<h2>Timeline + ScrollTrigger</h2>
<p>â†“ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨ Timeline ãŒç™ºç«ã—ã€è¤‡æ•°ã®è¦ç´ ãŒé †ç•ªã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ â†“</p>

<div class="spacer"></div>

<section class="demo-section" id="tl-section">
  <h3 id="title">Hello GSAP!</h3>
  <p class="subtitle" id="subtitle">Timeline ã¨ ScrollTrigger ã‚’çµ„ã¿åˆã‚ã›ã‚ˆã†</p>
  <div class="boxes">
    <div class="box" id="box1"></div>
    <div class="box" id="box2"></div>
    <div class="box" id="box3"></div>
    <div class="box" id="box4"></div>
  </div>
</section>

<div class="spacer"></div>
<div class="spacer"></div>

<!-- ========== JS ========== -->
<script>
gsap.registerPlugin(ScrollTrigger);

// Timeline ã« scrollTrigger ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹
// â†’ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã€ä¸­ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒé †ç•ªã«å®Ÿè¡Œã•ã‚Œã‚‹
const tl = gsap.timeline({
  scrollTrigger: {
    trigger: "#tl-section",
    start: "top 60%",       // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸Šç«¯ãŒç”»é¢60%ã«æ¥ãŸã‚‰é–‹å§‹
    markers: true            // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆæœ¬ç•ªã§ã¯å‰Šé™¤ï¼‰
    // toggleActions: "play none none reverse"  // â† ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã™ã¨ã€ç”»é¢å¤–ã«æˆ»ã£ãŸã‚‰é€†å†ç”Ÿ
  }
});

// Timeline ã§é †ç•ªã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
tl.from("#title", {
    y: 30,
    opacity: 0,
    duration: 0.8,
    ease: "power2.out"
  })
  .from("#subtitle", {
    y: 20,
    opacity: 0,
    duration: 0.6,
    ease: "power2.out"
  }, "-=0.4")              // å‰ã®çµ‚äº†ã‚ˆã‚Š0.4ç§’å‰ã«é–‹å§‹ï¼ˆé‡ã­ã‚‹ï¼‰
  .from(".box", {
    scale: 0,
    rotation: 180,
    stagger: 0.15,         // 0.15ç§’ãšã¤ãšã‚‰ã—ã¦ç™»å ´
    duration: 0.6,
    ease: "back.out(1.7)"
  }, "-=0.2");

// ğŸ’¡ å¿œç”¨: scrub ã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã—ã¦è©¦ã—ã¦ã¿ã‚ˆã†ï¼‰
// const scrubTl = gsap.timeline({
//   scrollTrigger: {
//     trigger: "#tl-section",
//     start: "top top",
//     end: "+=200%",
//     pin: true,          // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å›ºå®š
//     scrub: 1            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡ã§ Timeline ã®é€²è¡Œã‚’åˆ¶å¾¡
//   }
// });
// scrubTl.from("#title", { y: 50, opacity: 0 })
//   .from("#subtitle", { y: 30, opacity: 0 })
//   .from(".box", { scale: 0, stagger: 0.1 });
</script>
