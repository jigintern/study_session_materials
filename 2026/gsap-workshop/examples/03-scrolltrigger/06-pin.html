<!-- https://codepen.io/mocaffy/pen/RNReEpM -->

<!-- ========== CSS ========== -->
<style>
body {
  font-family: sans-serif;
  padding: 40px;
}

h2 {
  margin-bottom: 10px;
}

p {
  color: #888;
  margin-bottom: 20px;
}

.spacer {
  height: 80vh;
}

.pin-section {
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f0f0f0;
  border-radius: 20px;
}

.pin-content {
  text-align: center;
}

.pin-content h3 {
  font-size: 24px;
  margin-bottom: 20px;
  color: #333;
}

.pin-content p {
  font-size: 16px;
  color: #888;
  margin-bottom: 30px;
}

#box {
  width: 80px;
  height: 80px;
  background: skyblue;
  border-radius: 50%;
  margin: 0 auto;
}
</style>

<!-- ========== HTML ========== -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

<h2>ピン留め（Pin）</h2>
<p>↓ セクションが画面に固定され、スクロール量に応じてアニメーションが進む ↓</p>

<div class="spacer"></div>

<section class="pin-section" id="pin-demo">
  <div class="pin-content">
    <h3>このセクションは固定されています</h3>
    <p>スクロールしてもセクションは動かず、アニメーションだけ進みます</p>
    <div id="box"></div>
  </div>
</section>

<div class="spacer"></div>
<div class="spacer"></div>

<!-- ========== JS ========== -->
<script>
gsap.registerPlugin(ScrollTrigger);

// pin: true でセクションを画面に固定
// scrub でスクロール量に応じてアニメーションが進む
gsap.to("#box", {
  scale: 3,
  rotation: 360,
  backgroundColor: "salmon",
  borderRadius: "10px",
  scrollTrigger: {
    trigger: "#pin-demo",
    start: "top top",       // セクション上端が画面上端に来たら開始
    end: "+=200%",          // 画面2個分のスクロール量
    pin: true,              // セクションを固定！
    scrub: 1,               // 1秒かけてスクロールに追従
    markers: true           // デバッグ用（本番では削除）
  }
});
</script>
