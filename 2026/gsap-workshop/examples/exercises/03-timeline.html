<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>演習3: Timeline</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #fff; font-family: sans-serif; padding: 40px; }
  h1 { font-size: 1.5em; color: #333; margin-bottom: 32px; padding-bottom: 8px; border-bottom: 3px solid #0ae448; }
  .task { margin-bottom: 40px; padding: 24px; border: 1px solid #e0e0e0; border-radius: 12px; }
  .task h2 { font-size: 1.1em; color: #0ae448; margin-bottom: 8px; }
  .task p { font-size: 0.85em; color: #888; margin-bottom: 16px; }
  .controls { margin-top: 12px; display: flex; gap: 8px; }
  button {
    padding: 8px 20px; border: none; border-radius: 6px; font-size: 0.9em;
    font-weight: 600; cursor: pointer; color: #fff; background: #0ae448;
  }
  button.reset { background: #999; }

  /* 共通ボックス */
  .boxes { display: flex; flex-direction: column; gap: 12px; padding: 16px 0; }
  .row { display: flex; align-items: center; gap: 12px; }
  .label { width: 60px; font-size: 0.85em; font-weight: bold; color: #555; flex-shrink: 0; }
  .box { width: 60px; height: 60px; border-radius: 8px; flex-shrink: 0; }

  /* 課題1 */
  #task1-boxes .box:nth-child(1) { background: #e74c3c; }
  #task1-boxes .box:nth-child(2) { background: #3498db; }
  #task1-boxes .box:nth-child(3) { background: #f39c12; }

  /* 課題2 */
  .cards { display: flex; gap: 16px; padding: 16px 0; }
  .card {
    width: 150px; height: 100px; border: 1px solid #e0e0e0; border-radius: 12px;
    padding: 20px; display: flex; align-items: center; justify-content: center;
    font-size: 0.9em; font-weight: 600; color: #333; background: #fff;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
  }

  /* 課題3 */
  #task3-boxes .box:nth-child(1) { background: #e74c3c; }
  #task3-boxes .box:nth-child(2) { background: #3498db; }
  #task3-boxes .box:nth-child(3) { background: #f39c12; }
</style>
</head>
<body>
  <h1>演習3: Timeline</h1>

  <!-- 課題1 -->
  <div class="task">
    <h2>課題1: Timeline で順番に移動</h2>
    <p>3つのボックスを Timeline で順番に右へ移動させよう</p>
    <div class="boxes" id="task1-boxes">
      <div class="box" id="t1-a"></div>
      <div class="box" id="t1-b"></div>
      <div class="box" id="t1-c"></div>
    </div>
    <div class="controls">
      <button onclick="task1()">実行</button>
      <button class="reset" onclick="if(tl1) tl1.kill(); gsap.set('#task1-boxes .box',{x:0})">リセット</button>
    </div>
  </div>

  <!-- 課題2 -->
  <div class="task">
    <h2>課題2: Position パラメータでオーバーラップ</h2>
    <p>3枚のカードを順番にフェードイン。2枚目以降は前のアニメの終了 <strong>0.3秒前</strong> に開始させよう</p>
    <div class="cards" id="card-group">
      <div class="card">Card 1</div>
      <div class="card">Card 2</div>
      <div class="card">Card 3</div>
    </div>
    <div class="controls">
      <button onclick="task2()">実行</button>
      <button class="reset" onclick="if(tl2) tl2.kill(); gsap.set('#card-group .card',{opacity:1,y:0})">リセット</button>
    </div>
  </div>

  <!-- 課題3 -->
  <div class="task">
    <h2>課題3: ラベルでジャンプ</h2>
    <p>Timeline にラベルを付けて、ボタンでその位置にジャンプさせよう</p>
    <div class="boxes" id="task3-boxes">
      <div class="row"><span class="label">intro</span><div class="box" id="t3-a"></div></div>
      <div class="row"><span class="label">main</span><div class="box" id="t3-b"></div></div>
      <div class="row"><span class="label">end</span><div class="box" id="t3-c"></div></div>
    </div>
    <div class="controls">
      <button onclick="tl3.play('intro')">intro</button>
      <button onclick="tl3.play('main')">main</button>
      <button onclick="tl3.play('end')">end</button>
      <button class="reset" onclick="tl3.pause(0)">リセット</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3/dist/gsap.min.js"></script>
  <script>
    let tl1, tl2;

    // --- 課題1: Timeline で順番に移動 ---
    function task1() {
      // TODO: gsap.timeline() を作って tl1 に代入
      // .to() で #t1-a, #t1-b, #t1-c を順番に x: 300 へ移動（duration: 0.6）
      tl1 = gsap.timeline();
      tl1.to("#t1-a", { })
         .to("#t1-b", { })
         .to("#t1-c", { });
    }

    // --- 課題2: Position パラメータでオーバーラップ ---
    function task2() {
      // TODO: gsap.timeline() を作って tl2 に代入
      // .from() で各カードを opacity: 0, y: 30 からフェードイン（duration: 0.6）
      // 2枚目以降は "-=0.3" で前と重ねる
      tl2 = gsap.timeline();
      tl2.from("#card-group .card:nth-child(1)", { })
         .from("#card-group .card:nth-child(2)", { })
         .from("#card-group .card:nth-child(3)", { });
    }

    // --- 課題3: ラベルでジャンプ ---
    // TODO: addLabel() を追加して、各ボックスの前にラベルを付けよう
    // "intro", "main", "end" の3つのラベルを付ける
    const tl3 = gsap.timeline({ paused: true });
    tl3 // .addLabel("intro") ← ここにラベルを追加
        .to("#t3-a", { x: 300, duration: 0.6 })
        // .addLabel("main") ← ここにラベルを追加
        .to("#t3-b", { x: 300, duration: 0.6 })
        // .addLabel("end") ← ここにラベルを追加
        .to("#t3-c", { x: 300, duration: 0.6 });
</script>
</body>
</html>
