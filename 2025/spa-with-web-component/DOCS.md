# ウェブコンポーネントを利用したSPAの開発手法

- [ウェブコンポーネントを利用したSPAの開発手法](#ウェブコンポーネントを利用したspaの開発手法)
  - [1. イントロダクション](#1-イントロダクション)
    - [1.1. 目的](#11-目的)
    - [1.2. レポート課題について](#12-レポート課題について)
  - [2. ウェブアプリケーションとは](#2-ウェブアプリケーションとは)
    - [2.1. ウェブアプリケーション](#21-ウェブアプリケーション)
    - [2.2. コンテンツ配信](#22-コンテンツ配信)
    - [2.3. シングルページアプリケーション(SPA)とは](#23-シングルページアプリケーションspaとは)
  - [3. 開発ツール](#3-開発ツール)
    - [3.1. Visual Studio Code](#31-visual-studio-code)
    - [3.2. ブラウザの開発者ツール](#32-ブラウザの開発者ツール)
  - [4. HTML](#4-html)
    - [4.1. 要素とタグ](#41-要素とタグ)
    - [4.2. DOCTYPE宣言](#42-doctype宣言)
    - [4.3. 基本的なHTML文書の構成](#43-基本的なhtml文書の構成)
      - [html要素](#html要素)
      - [head要素](#head要素)
      - [body要素](#body要素)
    - [4.4. HTML要素](#44-html要素)
  - [5. CSS](#5-css)
    - [5.1. ボックスモデル](#51-ボックスモデル)
    - [5.2. セレクタ](#52-セレクタ)
    - [5.3. フレックスボックスとグリッドレイアウト](#53-フレックスボックスとグリッドレイアウト)
    - [5.4. CSSカスタムプロパティを利用したスタイリング](#54-cssカスタムプロパティを利用したスタイリング)
  - [6. JavaScript](#6-javascript)
    - [6.1. 基本的な処理](#61-基本的な処理)
    - [6.2. 条件分岐](#62-条件分岐)
    - [6.3. 繰り返し](#63-繰り返し)
    - [6.4. JSDoc](#64-jsdoc)
    - [6.5. コードの再利用](#65-コードの再利用)
    - [6.6. DOMを利用したページの操作](#66-domを利用したページの操作)
  - [7. ウェブコンポーネント](#7-ウェブコンポーネント)
    - [7.1. カスタム要素](#71-カスタム要素)
    - [7.2. ShadowDOM](#72-shadowdom)
  - [8. ウェブコンポーネントを利用したSPAの開発](#8-ウェブコンポーネントを利用したspaの開発)
    - [8.1. ルーティング](#81-ルーティング)
      - [URL](#url)
      - [onHashChange](#onhashchange)
    - [8.2. ディレクトリ構成](#82-ディレクトリ構成)
    - [8.3. デザイン](#83-デザイン)
  - [9. まとめ](#9-まとめ)

## 1. イントロダクション

### 1.1. 目的

この実験ではまず、HTML、CSS、JavaScriptの3つの言語について学習します。
その後、「ウェブコンポーネント」とまとめて呼ばれる一連の技術を学習し、これを利用したシングルページアプリケーション(以下 SPA)の開発手法を体験することを目的とします。

### 1.2. レポート課題について

この実験のレポート課題は、「**📝課題**」というキーワードに続けて示す問題に対し回答を記述するものとします。
また、問題文の末尾には「（n点）」というようにその課題の配点を示します。
レポートには課題の配点の合計が少なくとも6点を超えるよう、資料中に示した課題を複数個選択してレポートを作成してください。

**📝課題**: あなたの好きなうどんのメニュー名を記述しなさい。回答しても配点はありませんが、資料の作者が喜びます。（0点）

## 2. ウェブアプリケーションとは

### 2.1. ウェブアプリケーション

「アプリケーションソフトウェア」とは、コンピュータ上で特定の作業や処理を行うために作成されたソフトウェアのことです。単に「アプリケーション」と言うこともあります。

このうち、OS（基本ソフトウェア）にインストールして利用するアプリケーションのことを「ネイティブアプリケーション」と言います。  
例えば、ウェブブラウザやオフィスソフトウェアなどがこれに該当します。

このネイティブアプリケーションに対して、ウェブブラウザ上でソフトウェアのインストール無しに動作するアプリケーションのことを「ウェブアプリケーション」と言います。
コンピュータにインストールされたウェブブラウザを利用して、ブラウザ上で特定の作業や処理を行うソフトウェアがウェブアプリケーションということになります。

例えば、みなさんが利用している通信販売サービスや動画投稿サイトなどもウェブアプリケーションに該当します。

**📝課題**: ウェブアプリケーションとウェブサイトの違いを「双方向」という言葉を使って説明しなさい。（1点）

### 2.2. コンテンツ配信

世の中のモノは、何らかの方法で人からアクセス可能でなければ、見たり使ったりすることができません。  
例えば、有名な写真家でも個展やSNSでの発信がなければ、撮影した写真が日の目を見ることはありません。

アプリケーションも同様に、ユーザーがそれを利用するにはユーザーにアプリケーションを届ける仕組みが必要です。この仕組みをコンテンツ配信と言います。  
例えば、スマートフォン上で動作するネイティブアプリケーションは、OSがAndroidであればPlayストア、iOSであればApp Storeで配信され、ユーザーは自由にインストールして利用することが可能です。

ウェブアプリケーションでは、この部分はウェブサーバーが担います。  
これによって、ブラウザからアプリケーションに対してアクセスすることができ、ユーザーからアプリケーションが利用可能になります。

今回の実験ではコンテンツ配信についてはこれ以降解説しません。  
もし興味があれば、以下の資料やサイトを参考に自分で調べて取り組んでみてください。

- [はじめの一歩は時間割 - 9. アプリを公開しよう](https://github.com/jigintern/study_session_materials/blob/main/2024/web-timetable/DOCS.md#9-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E5%85%AC%E9%96%8B%E3%81%97%E3%82%88%E3%81%86)
- [GitHub Pagesの使い方 - ウェブ開発の学習|MDN](https://developer.mozilla.org/ja/docs/Learn_web_development/Howto/Tools_and_setup/Using_GitHub_pages)

### 2.3. シングルページアプリケーション(SPA)とは

さて、ウェブアプリケーションについては [2.1.](#21-ウェブアプリケーション) で説明したとおりです。  
しかし、ウェブアプリケーションと一口に言っても、その動作や仕組みによって細かく分類されています。

ここでは「シングルページアプリケーション」（Simgle Page Application:以下SPAと略す）を説明します。

ウェブアプリケーションは基本的にHTML/CSS/JavaScriptという3つの言語を利用して動作しています。  
このうち、HTMLのファイルを一つだけ利用し、JavaScriptによってHTMLに変更を加えて動作させるような仕組みのウェブアプリケーションのことをSPAと言います。
一度HTMLファイルをウェブサーバーから取得したあとはブラウザ上のみで表示の切り替えを行うため、複雑で動的に動作する必要なアプリケーションに適しています。

これに対して、複数のHTMLファイルを作成して、これらをリンクなどで相互に移動できるようにすることでアプリケーションを作成しているものを「マルチページアプリケーション」（Multi Page Application）と言います。
こちらはブラウザで行う処理が少なくなるため、よりスペックの低い端末でもアプリケーションを利用したい場合に適しています。

## 3. 開発ツール

### 3.1. Visual Studio Code

> 拡張機能、ユーザー設定、ワークスペース設定

### 3.2. ブラウザの開発者ツール

> 要素タブ、スタイルタブ、コンソールタブ、アプリケーションタブ

## 4. HTML

HTML(Hyper Text Markup Language)

### 4.1. 要素とタグ

> マークアップ、開きタグ、閉じタグ、属性、空要素
> h1タグ

### 4.2. DOCTYPE宣言

> 後方互換モード
> 有り無しで試す

### 4.3. 基本的なHTML文書の構成

#### html要素

> mdn HTMLリファレンス を見てみる

#### head要素

> メタデータコンテンツ, meta, link, title

#### body要素

> フローコンテンツ

### 4.4. HTML要素

> p, h1~h6, ul, ol, li, span, div, 

## 5. CSS

CSS(Cascading Style Sheet)

### 5.1. ボックスモデル

### 5.2. セレクタ

> 要素、クラス、ID、属性、結合子

### 5.3. フレックスボックスとグリッドレイアウト

### 5.4. CSSカスタムプロパティを利用したスタイリング

## 6. JavaScript

### 6.1. 基本的な処理

> 変数、四則演算、Mathオブジェクト、文字列の処理、論理演算

### 6.2. 条件分岐

> 比較演算子、if文、三項演算子

### 6.3. 繰り返し

> 配列、for文、Arrayオブジェクト反復処理メソッド

### 6.4. JSDoc

> 型、TypeScript、エディタによる開発支援

### 6.5. コードの再利用

> 関数、オブジェクト、クラス、インスタンス

### 6.6. DOMを利用したページの操作

> DOM、setHTMLUnsafe、XSS

## 7. ウェブコンポーネント

### 7.1. カスタム要素

> カスタム要素の命名規則

### 7.2. ShadowDOM

> カプセル化

## 8. ウェブコンポーネントを利用したSPAの開発

> TODOアプリを作成する

### 8.1. ルーティング

> ルーティングとは

#### URL

> スキーム、ドメイン、ポート、パス、クエリパラメータ、ハッシュ

#### onHashChange

> イベントリスナー

### 8.2. ディレクトリ構成

> ファイルの責任範囲、ディレクトリ構成、命名規則

### 8.3. デザイン

> UI、オブジェクト、CRUD

## 9. まとめ

> ウェブコンポーネントとは、SPAとは、効率的なウェブアプリケーションの開発に有効な手段とは

